!function(){return function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){var f="function"==typeof require&&require;if(!a&&f)return f(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[s]={exports:{}};e[s][0].call(u.exports,function(t){return i(e[s][1][t]||t)},u,u.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}}()({1:[function(t,e,r){"use strict";function n(){}function i(t,e,r,n){var i={listener:r,active:!0,type:e,once:n};t._events||(t._events=Object.create(null)),t._events[e]||(t._events[e]=[]),t._events[e].push(i)}function o(t,e){return t._events&&t._events[e]}n.prototype={emit:function(t){var e,r,n,i=o(this,t);if(!i)return this;for(arguments.length>1&&(e=[].slice.call(arguments,1)),r=0,n=i.length;r<n;++r)i[r].active&&(i[r].once&&(i[r].active=!1),e?i[r].listener.apply(this,e):i[r].listener.call(this));return this},off:function(t,e){var r,n;if(t){if(r=o(this,t))if(e)for(n=r.length-1;n>=0;--n)r[n].listener===e&&r[n].active&&(r[n].active=!1);else r.length=0}else this._events=null;return this},on:function(t,e){return i(this,t,e),this},once:function(t,e){return i(this,t,e,!0),this},constructor:n},e.exports=n},{}],2:[function(t,e,r){"use strict";var n=Object.prototype.toString;e.exports=function(t,e){throw Error('"'+n.call(t)+'" is not '+e)}},{}],3:[function(t,e,r){"use strict";var n,i=t("./type"),o="undefined";e.exports=function(t){return t===n?o:o=i(n=t)}},{"./type":58}],4:[function(t,e,r){"use strict";e.exports=function(t){return t.replace(/\\(\\)?/g,"$1")}},{}],5:[function(t,e,r){"use strict";var n,i=t("../isset"),o=Object.prototype.__defineGetter__,s=Object.prototype.__defineSetter__;e.exports=function(t,e,r){var a,f,c=i("get",r),u=i("set",r);if(c||u){if(c&&"function"!=typeof(a=r.get))throw TypeError("Getter must be a function: "+a);if(u&&"function"!=typeof(f=r.set))throw TypeError("Setter must be a function: "+f);if(i("writable",r))throw TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");if(!o)throw Error("Cannot define getter or setter");c&&o.call(t,e,a),u&&s.call(t,e,f)}else i("value",r)?t[e]=r.value:i(e,t)||(t[e]=n);return t}},{"../isset":42}],6:[function(t,e,r){"use strict";e.exports=function(t,e){var r,n=[];for(t.lastIndex=0;r=t.exec(e);)n.push(r);return n}},{}],7:[function(t,e,r){"use strict";var n=t("../call-iteratee"),i=t("../isset");e.exports=function(t,e,r,o){var s,a,f;for(s=-1,a=t.length-1;a>=0&&(f=o?a:++s,!i(f,t)||!1!==n(e,r,t[f],f,t));--a);return t}},{"../call-iteratee":15,"../isset":42}],8:[function(t,e,r){"use strict";var n=t("../call-iteratee");e.exports=function(t,e,r,i,o){var s,a,f;for(s=-1,a=o.length-1;a>=0&&(f=i?o[a]:o[++s],!1!==n(e,r,t[f],f,t));--a);return t}},{"../call-iteratee":15}],9:[function(t,e,r){"use strict";var n=t("../isset");e.exports=function(t,e,r){for(var i,o=e.length-r,s=0;s<o;++s){if(i=e[s],!n(i,t))return;t=t[i]}return t}},{"../isset":42}],10:[function(t,e,r){"use strict";var n=t("./base-to-index"),i=Array.prototype.indexOf,o=Array.prototype.lastIndexOf;e.exports=function(t,e,r,s){var a,f,c,u,l;if(e==e&&(u=s?o:i))return u.call(t,e,r);if(!(a=t.length))return-1;for(c=a-1,void 0!==r?(r=n(r,a),f=(c=s?Math.min(c,r):Math.max(0,r))-1):f=-1;c>=0;--c)if((l=t[u=s?c:++f])===e||e!=e&&l!=l)return u;return-1}},{"./base-to-index":13}],11:[function(t,e,r){"use strict";var n,i,o=t("./base-index-of"),s=t("../support/support-keys"),a=Object.prototype.hasOwnProperty;"not-supported"===s&&(n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=function(t,e){var r,i;for(r=n.length-1;r>=0;--r)o(t,i=n[r])<0&&a.call(e,i)&&t.push(i);return t}),e.exports=function(t){var e,r=[];for(e in t)a.call(t,e)&&r.push(e);return"not-supported"!==s?r:i(r,t)}},{"../support/support-keys":53,"./base-index-of":10}],12:[function(t,e,r){"use strict";var n=t("./base-get");e.exports=function(t,e){if(null!=t)return e.length>1?n(t,e,0):t[e[0]]}},{"./base-get":9}],13:[function(t,e,r){"use strict";e.exports=function(t,e){return e&&t?(t<0&&(t+=e),t||0):0}},{}],14:[function(t,e,r){"use strict";var n=t("./_throw-argument-exception"),i=t("./default-to");e.exports=function(t,e){var r;return"function"!=typeof e&&n(e,"a function"),t=i(t,1),function(){return--t>=0&&(r=e.apply(this,arguments)),r}}},{"./_throw-argument-exception":2,"./default-to":24}],15:[function(t,e,r){"use strict";e.exports=function(t,e,r,n,i){return void 0===e?t(r,n,i):t.call(e,r,n,i)}},{}],16:[function(t,e,r){"use strict";var n=t("./base/base-exec"),i=t("./_unescape"),o=t("./is-key"),s=t("./to-key"),a=t("./_type"),f=/(^|\.)\s*([_a-z]\w*)\s*|\[\s*((?:-)?(?:\d+|\d*\.\d+)|("|')(([^\\]\\(\\\\)*|[^\4])*)\4)\s*\]/gi;e.exports=function(t){var e,r,c;if(o(t))return[s(t)];if("array"===a(t))for(e=Array(r=t.length),c=r-1;c>=0;--c)e[c]=s(t[c]);else e=function(t){for(var e,r=n(f,t),o=r.length-1;o>=0;--o)(e=r[o])[2]?r[o]=e[2]:null!=e[5]?r[o]=i(e[5]):r[o]=e[3];return r}(""+t);return e}},{"./_type":3,"./_unescape":4,"./base/base-exec":6,"./is-key":34,"./to-key":56}],17:[function(t,e,r){"use strict";e.exports=function(t,e,r){return t>=r?r:t<=e?e:t}},{}],18:[function(t,e,r){"use strict";var n=t("./create"),i=t("./get-prototype-of"),o=t("./to-object"),s=t("./each"),a=t("./is-object-like");e.exports=function t(e,r,f){var c;return(void 0===r||f)&&(r=e,e=!0),c=n(i(r=o(r))),s(r,function(r,n,i){r===i?this[n]=this:e&&a(r)?this[n]=t(e,r):this[n]=r},c),c}},{"./create":20,"./each":27,"./get-prototype-of":30,"./is-object-like":36,"./to-object":57}],19:[function(t,e,r){"use strict";e.exports={ERR:{INVALID_ARGS:"Invalid arguments",FUNCTION_EXPECTED:"Expected a function",STRING_EXPECTED:"Expected a string",UNDEFINED_OR_NULL:"Cannot convert undefined or null to object",REDUCE_OF_EMPTY_ARRAY:"Reduce of empty array with no initial value",NO_PATH:"No path was given"},MAX_ARRAY_LENGTH:4294967295,MAX_SAFE_INT:9007199254740991,MIN_SAFE_INT:-9007199254740991,DEEP:1,DEEP_KEEP_FN:2,PLACEHOLDER:{}}},{}],20:[function(t,e,r){"use strict";var n=t("./define-properties"),i=t("./set-prototype-of"),o=t("./is-primitive");function s(){}e.exports=Object.create||function(t,e){var r;if(null!==t&&o(t))throw TypeError("Object prototype may only be an Object or null: "+t);return s.prototype=t,r=new s,s.prototype=null,null===t&&i(r,null),arguments.length>=2&&n(r,e),r}},{"./define-properties":26,"./is-primitive":39,"./set-prototype-of":51}],21:[function(t,e,r){"use strict";var n=t("../base/base-for-each"),i=t("../base/base-for-in"),o=t("../is-array-like"),s=t("../to-object"),a=t("../iteratee").iteratee,f=t("../keys");e.exports=function(t){return function(e,r,c){return e=s(e),r=a(r),o(e)?n(e,r,c,t):i(e,r,c,t,f(e))}}},{"../base/base-for-each":7,"../base/base-for-in":8,"../is-array-like":32,"../iteratee":43,"../keys":44,"../to-object":57}],22:[function(t,e,r){"use strict";e.exports=function(t){return function(e){var r,n,i;return e.window===e?r=Math.max(e["inner"+t]||0,e.document.documentElement["client"+t]):9===e.nodeType?(n=e.body,i=e.documentElement,r=Math.max(n["scroll"+t],i["scroll"+t],n["offset"+t],i["offset"+t],n["client"+t],i["client"+t])):r=e["client"+t],r}}},{}],23:[function(t,e,r){"use strict";var n=t("../cast-path"),i=t("../noop");e.exports=function(t,e){return function(r){var o;return(r=n(r)).length?(e&&(o=Array.prototype.slice.call(arguments,1)),function(e){return t(e,r,o)}):i}}},{"../cast-path":16,"../noop":47}],24:[function(t,e,r){"use strict";e.exports=function(t,e){return null!=t&&t==t?t:e}},{}],25:[function(t,e,r){"use strict";var n=t("./mixin"),i=t("./clone");e.exports=function(t,e){return null==e?i(!0,t):n(!0,i(!0,t),e)}},{"./clone":18,"./mixin":46}],26:[function(t,e,r){"use strict";var n,i,o,s,a=t("./support/support-define-property");"full"!==a?(o=t("./is-primitive"),s=t("./each"),i=t("./base/base-define-property"),n=function(t,e){if("not-supported"!==a)try{return Object.defineProperties(t,e)}catch(t){}if(o(t))throw TypeError("defineProperties called on non-object");if(o(e))throw TypeError("Property description must be an object: "+e);return s(e,function(t,e){if(o(t))throw TypeError("Property description must be an object: "+t);i(this,e,t)},t),t}):n=Object.defineProperties,e.exports=n},{"./base/base-define-property":5,"./each":27,"./is-primitive":39,"./support/support-define-property":52}],27:[function(t,e,r){"use strict";e.exports=t("./create/create-each")()},{"./create/create-each":21}],28:[function(t,e,r){"use strict";e.exports=t("./create/create-get-element-dimension")("Height")},{"./create/create-get-element-dimension":22}],29:[function(t,e,r){"use strict";e.exports=t("./create/create-get-element-dimension")("Width")},{"./create/create-get-element-dimension":22}],30:[function(t,e,r){"use strict";var n=t("./constants").ERR,i=Object.prototype.toString;e.exports=Object.getPrototypeOf||function(t){var e;if(null==t)throw TypeError(n.UNDEFINED_OR_NULL);return void 0!==(e=t.__proto__)?e:"[object Function]"===i.call(t.constructor)?t.constructor.prototype:t}},{"./constants":19}],31:[function(t,e,r){"use strict";var n=t("./is-object-like"),i=t("./is-length"),o=t("./is-window-like");e.exports=function(t){return n(t)&&i(t.length)&&!o(t)}},{"./is-length":35,"./is-object-like":36,"./is-window-like":41}],32:[function(t,e,r){"use strict";var n=t("./is-length"),i=t("./is-window-like");e.exports=function(t){return null!=t&&("object"==typeof t?n(t.length)&&!i(t):"string"==typeof t)}},{"./is-length":35,"./is-window-like":41}],33:[function(t,e,r){"use strict";var n=t("./is-object-like"),i=t("./is-length"),o={}.toString;e.exports=Array.isArray||function(t){return n(t)&&i(t.length)&&"[object Array]"===o.call(t)}},{"./is-length":35,"./is-object-like":36}],34:[function(t,e,r){"use strict";var n=t("./_type"),i=/(^|[^\\])(\\\\)*(\.|\[)/;e.exports=function(t){var e;return!t||"array"!==n(t)&&("number"==(e=typeof t)||"boolean"===e||"symbol"===n(t)||!i.test(t))}},{"./_type":3}],35:[function(t,e,r){"use strict";var n=t("./constants").MAX_ARRAY_LENGTH;e.exports=function(t){return"number"==typeof t&&t>=0&&t<=n&&t%1==0}},{"./constants":19}],36:[function(t,e,r){"use strict";e.exports=function(t){return!!t&&"object"==typeof t}},{}],37:[function(t,e,r){"use strict";var n=t("./is-object-like"),i={}.toString;e.exports=function(t){return n(t)&&"[object Object]"===i.call(t)}},{"./is-object-like":36}],38:[function(t,e,r){"use strict";var n=t("./get-prototype-of"),i=t("./is-object"),o=Object.prototype.hasOwnProperty,s=Function.prototype.toString,a=s.call(Object);e.exports=function(t){var e,r;return!!i(t)&&(null===(e=n(t))||!!o.call(e,"constructor")&&("function"==typeof(r=e.constructor)&&s.call(r)===a))}},{"./get-prototype-of":30,"./is-object":37}],39:[function(t,e,r){"use strict";e.exports=function(t){return!t||"object"!=typeof t&&"function"!=typeof t}},{}],40:[function(t,e,r){"use strict";var n=t("./type");e.exports=function(t){return"symbol"===n(t)}},{"./type":58}],41:[function(t,e,r){"use strict";var n=t("./is-object-like");e.exports=function(t){return n(t)&&t.window===t}},{"./is-object-like":36}],42:[function(t,e,r){"use strict";e.exports=function(t,e){return null!=e&&(void 0!==e[t]||t in e)}},{}],43:[function(t,e,r){"use strict";var n=t("./is-array-like-object"),i=t("./matches-property"),o=t("./property");r.iteratee=function(t){return"function"==typeof t?t:n(t)?i(t):o(t)}},{"./is-array-like-object":31,"./matches-property":45,"./property":50}],44:[function(t,e,r){"use strict";var n=t("./base/base-keys"),i=t("./to-object"),o=t("./support/support-keys");e.exports="es2015"!==o?function(t){return("es5"===o?Object.keys:n)(i(t))}:Object.keys},{"./base/base-keys":11,"./support/support-keys":53,"./to-object":57}],45:[function(t,e,r){"use strict";var n=t("./cast-path"),i=t("./base/base-get"),o=t("./constants").ERR;e.exports=function(t){var e=n(t[0]),r=t[1];if(!e.length)throw Error(o.NO_PATH);return function(t){return null!=t&&(e.length>1?i(t,e,0)===r:t[e[0]]===r)}}},{"./base/base-get":9,"./cast-path":16,"./constants":19}],46:[function(t,e,r){"use strict";var n=t("./is-plain-object"),i=t("./to-object"),o=t("./is-array"),s=t("./keys");e.exports=function t(e,r){var a,f,c,u,l,h,p,d,b=arguments.length,g=2;for("boolean"!=typeof e&&(r=e,e=!0,g=1),g===b&&(r=this,--g),r=i(r);g<b;++g)for(c=0,u=(a=s(f=i(arguments[g]))).length;c<u;++c)l=f[h=a[c]],e&&l!==f&&(n(l)||(p=o(l)))?(d=r[h],p?(o(d)||(d=[]),p=!1):n(d)||(d={}),r[h]=t(!0,d,l)):r[h]=l;return r}},{"./is-array":33,"./is-plain-object":38,"./keys":44,"./to-object":57}],47:[function(t,e,r){"use strict";e.exports=function(){}},{}],48:[function(t,e,r){"use strict";e.exports=Date.now||function(){return(new Date).getTime()}},{}],49:[function(t,e,r){"use strict";var n=t("./before");e.exports=function(t){return n(1,t)}},{"./before":14}],50:[function(t,e,r){"use strict";e.exports=t("./create/create-property")(t("./base/base-property"))},{"./base/base-property":12,"./create/create-property":23}],51:[function(t,e,r){"use strict";var n=t("./is-primitive"),i=t("./constants").ERR;e.exports=Object.setPrototypeOf||function(t,e){if(null==t)throw TypeError(i.UNDEFINED_OR_NULL);if(null!==e&&n(e))throw TypeError("Object prototype may only be an Object or null: "+e);return"__proto__"in t&&(t.__proto__=e),t}},{"./constants":19,"./is-primitive":39}],52:[function(t,e,r){"use strict";var n;function i(t){try{if(""in Object.defineProperty(t,"",{}))return!0}catch(t){}return!1}n=i({})?"full":"undefined"!=typeof document&&i(document.createElement("span"))?"dom":"not-supported",e.exports=n},{}],53:[function(t,e,r){"use strict";var n;if(Object.keys)try{n=Object.keys("")}catch(t){n="es5"}else n={toString:null}.propertyIsEnumerable("toString")?"not-supported":"has-a-bug";e.exports=n},{}],54:[function(t,e,r){"use strict";var n,i,o=t("./timestamp");if("undefined"!=typeof window&&(i=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame,n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame),!n||!i||"undefined"!=typeof navigator&&/iP(ad|hone|od).*OS\s6/.test(navigator.userAgent)){var s=0;r.request=function(t){var e=o(),r=Math.max(s+1e3/60,e);return setTimeout(function(){s=r,t(e)},r-e)},r.cancel=clearTimeout}else r.request=function(t){return n(t)},r.cancel=function(t){return i(t)}},{"./timestamp":55}],55:[function(t,e,r){"use strict";var n,i=t("./now");"undefined"!=typeof performance&&performance.now?e.exports=function(){return performance.now()}:(n=i(),e.exports=function(){return i()-n})},{"./now":48}],56:[function(t,e,r){"use strict";var n=t("./_unescape"),i=t("./is-symbol");e.exports=function(t){var e;return"string"==typeof t?n(t):i(t)?t:"0"===(e=""+t)&&1/t==-1/0?"-0":n(e)}},{"./_unescape":4,"./is-symbol":40}],57:[function(t,e,r){"use strict";var n=t("./constants").ERR;e.exports=function(t){if(null==t)throw TypeError(n.UNDEFINED_OR_NULL);return Object(t)}},{"./constants":19}],58:[function(t,e,r){"use strict";var n=t("./create"),i={}.toString,o=n(null);e.exports=function(t){var e,r;return null===t?"null":"object"!==(e=typeof t)&&"function"!==e?e:(e=o[r=i.call(t)])||(o[r]=r.slice(8,-1).toLowerCase())}},{"./create":20}],59:[function(t,e,r){(function(t){(function(){"use strict";var n={function:!0,object:!0},i=n[typeof window]&&window||this,o=n[typeof r]&&r,s=n[typeof e]&&e&&!e.nodeType&&e,a=o&&s&&"object"==typeof t&&t;!a||a.global!==a&&a.window!==a&&a.self!==a||(i=a);var f=Math.pow(2,53)-1,c=/\bOpera/,u=Object.prototype,l=u.hasOwnProperty,h=u.toString;function p(t){return(t=String(t)).charAt(0).toUpperCase()+t.slice(1)}function d(t){return t=x(t),/^(?:webOS|i(?:OS|P))/.test(t)?t:p(t)}function b(t,e){for(var r in t)l.call(t,r)&&e(t[r],r,t)}function g(t){return null==t?p(t):h.call(t).slice(8,-1)}function m(t){return String(t).replace(/([ -])(?!$)/g,"$1?")}function y(t,e){var r=null;return function(t,e){var r=-1,n=t?t.length:0;if("number"==typeof n&&n>-1&&n<=f)for(;++r<n;)e(t[r],r,t);else b(t,e)}(t,function(n,i){r=e(r,n,i,t)}),r}function x(t){return String(t).replace(/^ +| +$/g,"")}var _=function t(e){var r=i,n=e&&"object"==typeof e&&"String"!=g(e);n&&(r=e,e=null);var o=r.navigator||{},s=o.userAgent||"";e||(e=s);var a,f,u,l,p,_=n?!!o.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(h.toString()),v=n?"Object":"ScriptBridgingProxyObject",w=n?"Object":"Environment",k=n&&r.java?"JavaPackage":g(r.java),S=n?"Object":"RuntimeObject",E=/\bJava/.test(k)&&r.java,O=E&&g(r.environment)==w,A=E?"a":"α",M=E?"b":"β",T=r.document||{},P=r.operamini||r.opera,R=c.test(R=n&&P?P["[[Class]]"]:g(P))?R:P=null,C=e,F=[],j=null,I=e==s,L=I&&P&&"function"==typeof P.version&&P.version(),D=y([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(t,r){return t||RegExp("\\b"+(r.pattern||m(r))+"\\b","i").exec(e)&&(r.label||r)}),B=function(t){return y(t,function(t,r){return t||RegExp("\\b"+(r.pattern||m(r))+"\\b","i").exec(e)&&(r.label||r)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),N=z([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),G=function(t){return y(t,function(t,r,n){return t||(r[N]||r[/^[a-z]+(?: +[a-z]+\b)*/i.exec(N)]||RegExp("\\b"+m(n)+"(?:\\b|\\w*\\d)","i").exec(e))&&n})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),W=function(t){return y(t,function(t,r){var n=r.pattern||m(r);return!t&&(t=RegExp("\\b"+n+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=function(t,e,r){var n={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return e&&r&&/^Win/i.test(t)&&!/^Windows Phone /i.test(t)&&(n=n[/[\d.]+$/.exec(t)])&&(t="Windows "+n),t=String(t),e&&r&&(t=t.replace(RegExp(e,"i"),r)),t=d(t.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(t,n,r.label||r)),t})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function z(t){return y(t,function(t,r){var n=r.pattern||m(r);return!t&&(t=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+n+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(r.label&&!RegExp(n,"i").test(r.label)?r.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),r=r.label||r,t=d(t[0].replace(RegExp(n,"i"),r).replace(RegExp("; *(?:"+r+"[_-])?","i")," ").replace(RegExp("("+r+")[-_.]?(\\w)","i"),"$1 $2"))),t})}if(D&&(D=[D]),G&&!N&&(N=z([G])),(a=/\bGoogle TV\b/.exec(N))&&(N=a[0]),/\bSimulator\b/i.test(e)&&(N=(N?N+" ":"")+"Simulator"),"Opera Mini"==B&&/\bOPiOS\b/.test(e)&&F.push("running in Turbo/Uncompressed mode"),"IE"==B&&/\blike iPhone OS\b/.test(e)?(G=(a=t(e.replace(/like iPhone OS/,""))).manufacturer,N=a.product):/^iP/.test(N)?(B||(B="Safari"),W="iOS"+((a=/ OS ([\d_]+)/i.exec(e))?" "+a[1].replace(/_/g,"."):"")):"Konqueror"!=B||/buntu/i.test(W)?G&&"Google"!=G&&(/Chrome/.test(B)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(N))||/\bAndroid\b/.test(W)&&/^Chrome/.test(B)&&/\bVersion\//i.test(e)?(B="Android Browser",W=/\bAndroid\b/.test(W)?W:"Android"):"Silk"==B?(/\bMobi/i.test(e)||(W="Android",F.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&F.unshift("accelerated")):"PaleMoon"==B&&(a=/\bFirefox\/([\d.]+)\b/.exec(e))?F.push("identifying as Firefox "+a[1]):"Firefox"==B&&(a=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(W||(W="Firefox OS"),N||(N=a[1])):!B||(a=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(B))?(B&&!N&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(a+"/")+8))&&(B=null),(a=N||G||W)&&(N||G||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(W))&&(B=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(W)?W:a)+" Browser")):"Electron"==B&&(a=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&F.push("Chromium "+a):W="Kubuntu",L||(L=y(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",m(B),"(?:Firefox|Minefield|NetFront)"],function(t,r){return t||(RegExp(r+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})),(a=("iCab"==D&&parseFloat(L)>3?"WebKit":/\bOpera\b/.test(B)&&(/\bOPR\b/.test(e)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(D)&&"WebKit"||!D&&/\bMSIE\b/i.test(e)&&("Mac OS"==W?"Tasman":"Trident")||"WebKit"==D&&/\bPlayStation\b(?! Vita\b)/i.test(B)&&"NetFront")&&(D=[a]),"IE"==B&&(a=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(B+=" Mobile",W="Windows Phone "+(/\+$/.test(a)?a:a+".x"),F.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(B="IE Mobile",W="Windows Phone 8.x",F.unshift("desktop mode"),L||(L=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=B&&"Trident"==D&&(a=/\brv:([\d.]+)/.exec(e))&&(B&&F.push("identifying as "+B+(L?" "+L:"")),B="IE",L=a[1]),I){if(l="global",p=null!=(u=r)?typeof u[l]:"number",/^(?:boolean|number|string|undefined)$/.test(p)||"object"==p&&!u[l])g(a=r.runtime)==v?(B="Adobe AIR",W=a.flash.system.Capabilities.os):g(a=r.phantom)==S?(B="PhantomJS",L=(a=a.version||null)&&a.major+"."+a.minor+"."+a.patch):"number"==typeof T.documentMode&&(a=/\bTrident\/(\d+)/i.exec(e))?(L=[L,T.documentMode],(a=+a[1]+4)!=L[1]&&(F.push("IE "+L[1]+" mode"),D&&(D[1]=""),L[1]=a),L="IE"==B?String(L[1].toFixed(1)):L[0]):"number"==typeof T.documentMode&&/^(?:Chrome|Firefox)\b/.test(B)&&(F.push("masking as "+B+" "+L),B="IE",L="11.0",D=["Trident"],W="Windows");else if(E&&(C=(a=E.lang.System).getProperty("os.arch"),W=W||a.getProperty("os.name")+" "+a.getProperty("os.version")),O){try{L=r.require("ringo/engine").version.join("."),B="RingoJS"}catch(t){(a=r.system)&&a.global.system==r.system&&(B="Narwhal",W||(W=a[0].os||null))}B||(B="Rhino")}else"object"==typeof r.process&&!r.process.browser&&(a=r.process)&&("object"==typeof a.versions&&("string"==typeof a.versions.electron?(F.push("Node "+a.versions.node),B="Electron",L=a.versions.electron):"string"==typeof a.versions.nw&&(F.push("Chromium "+L,"Node "+a.versions.node),B="NW.js",L=a.versions.nw)),B||(B="Node.js",C=a.arch,W=a.platform,L=(L=/[\d.]+/.exec(a.version))?L[0]:null));W=W&&d(W)}if(L&&(a=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(L)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(I&&o.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(j=/b/i.test(a)?"beta":"alpha",L=L.replace(RegExp(a+"\\+?$"),"")+("beta"==j?M:A)+(/\d+\+?/.exec(a)||"")),"Fennec"==B||"Firefox"==B&&/\b(?:Android|Firefox OS)\b/.test(W))B="Firefox Mobile";else if("Maxthon"==B&&L)L=L.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(N))"Xbox 360"==N&&(W=null),"Xbox 360"==N&&/\bIEMobile\b/.test(e)&&F.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(B)&&(!B||N||/Browser|Mobi/.test(B))||"Windows CE"!=W&&!/Mobi/i.test(e))if("IE"==B&&I)try{null===r.external&&F.unshift("platform preview")}catch(t){F.unshift("embedded")}else(/\bBlackBerry\b/.test(N)||/\bBB10\b/.test(e))&&(a=(RegExp(N.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||L)?(W=((a=[a,/BB10/.test(e)])[1]?(N=null,G="BlackBerry"):"Device Software")+" "+a[0],L=null):this!=b&&"Wii"!=N&&(I&&P||/Opera/.test(B)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==B&&/\bOS X (?:\d+\.){2,}/.test(W)||"IE"==B&&(W&&!/^Win/.test(W)&&L>5.5||/\bWindows XP\b/.test(W)&&L>8||8==L&&!/\bTrident\b/.test(e)))&&!c.test(a=t.call(b,e.replace(c,"")+";"))&&a.name&&(a="ing as "+a.name+((a=a.version)?" "+a:""),c.test(B)?(/\bIE\b/.test(a)&&"Mac OS"==W&&(W=null),a="identify"+a):(a="mask"+a,B=R?d(R.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(a)&&(W=null),I||(L=null)),D=["Presto"],F.push(a));else B+=" Mobile";(a=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(a=[parseFloat(a.replace(/\.(\d)$/,".0$1")),a],"Safari"==B&&"+"==a[1].slice(-1)?(B="WebKit Nightly",j="alpha",L=a[1].slice(0,-1)):L!=a[1]&&L!=(a[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(L=null),a[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==a[0]&&537.36==a[2]&&parseFloat(a[1])>=28&&"WebKit"==D&&(D=["Blink"]),I&&(_||a[1])?(D&&(D[1]="like Chrome"),a=a[1]||((a=a[0])<530?1:a<532?2:a<532.05?3:a<533?4:a<534.03?5:a<534.07?6:a<534.1?7:a<534.13?8:a<534.16?9:a<534.24?10:a<534.3?11:a<535.01?12:a<535.02?"13+":a<535.07?15:a<535.11?16:a<535.19?17:a<536.05?18:a<536.1?19:a<537.01?20:a<537.11?"21+":a<537.13?23:a<537.18?24:a<537.24?25:a<537.36?26:"Blink"!=D?"27":"28")):(D&&(D[1]="like Safari"),a=(a=a[0])<400?1:a<500?2:a<526?3:a<533?4:a<534?"4+":a<535?5:a<537?6:a<538?7:a<601?8:"8"),D&&(D[1]+=" "+(a+="number"==typeof a?".x":/[.+]/.test(a)?"":"+")),"Safari"==B&&(!L||parseInt(L)>45)&&(L=a)),"Opera"==B&&(a=/\bzbov|zvav$/.exec(W))?(B+=" ",F.unshift("desktop mode"),"zvav"==a?(B+="Mini",L=null):B+="Mobile",W=W.replace(RegExp(" *"+a+"$"),"")):"Safari"==B&&/\bChrome\b/.exec(D&&D[1])&&(F.unshift("desktop mode"),B="Chrome Mobile",L=null,/\bOS X\b/.test(W)?(G="Apple",W="iOS 4.3+"):W=null),L&&0==L.indexOf(a=/[\d.]+$/.exec(W))&&e.indexOf("/"+a+"-")>-1&&(W=x(W.replace(a,""))),D&&!/\b(?:Avant|Nook)\b/.test(B)&&(/Browser|Lunascape|Maxthon/.test(B)||"Safari"!=B&&/^iOS/.test(W)&&/\bSafari\b/.test(D[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(B)&&D[1])&&(a=D[D.length-1])&&F.push(a),F.length&&(F=["("+F.join("; ")+")"]),G&&N&&N.indexOf(G)<0&&F.push("on "+G),N&&F.push((/^on /.test(F[F.length-1])?"":"on ")+N),W&&(a=/ ([\d.+]+)$/.exec(W),f=a&&"/"==W.charAt(W.length-a[0].length-1),W={architecture:32,family:a&&!f?W.replace(a[0],""):W,version:a?a[1]:null,toString:function(){var t=this.version;return this.family+(t&&!f?" "+t:"")+(64==this.architecture?" 64-bit":"")}}),(a=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(C))&&!/\bi686\b/i.test(C)?(W&&(W.architecture=64,W.family=W.family.replace(RegExp(" *"+a),"")),B&&(/\bWOW64\b/i.test(e)||I&&/\w(?:86|32)$/.test(o.cpuClass||o.platform)&&!/\bWin64; x64\b/i.test(e))&&F.unshift("32-bit")):W&&/^OS X/.test(W.family)&&"Chrome"==B&&parseFloat(L)>=39&&(W.architecture=64),e||(e=null);var q={};return q.description=e,q.layout=D&&D[0],q.manufacturer=G,q.name=B,q.prerelease=j,q.product=N,q.ua=e,q.version=B&&L,q.os=W||{architecture:null,family:null,version:null,toString:function(){return"null"}},q.parse=t,q.toString=function(){return this.description||""},q.version&&F.unshift(L),q.name&&F.unshift(B),W&&B&&(W!=String(W).split(" ")[0]||W!=B.split(" ")[0]&&!N)&&F.push(N?"("+W+")":"on "+W),F.length&&(q.description=F.join(" ")),q}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(i.platform=_,define(function(){return _})):o&&s?b(_,function(t,e){o[e]=t}):i.platform=_}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],60:[function(t,e,r){"use strict";var n=Object.prototype.toString;e.exports=function(t,e,r){return TypeError("`"+t+"` got unexpected `"+e+"` argument ("+typeof r+", "+n.call(r)+") with value: "+r)}},{}],61:[function(t,e,r){"use strict";e.exports=function(t,e){return Error("`"+t+"` "+e)}},{}],62:[function(t,e,r){"use strict";var n=t("peako/is-object-like"),i=t("peako/get-element-w"),o=t("peako/get-element-h"),s=t("peako/base/base-for-in"),a=t("./internal/_set-default-drawing-settings"),f=t("./internal/_copy-drawing-settings"),c=t("./internal/_get-gl-context-name"),u=t("./internal/_create-polygon"),l=t("./internal/_polygons"),h=t("./constants"),p=t("./options"),d=0;function b(t,e){var r={alpha:t.alpha};if(t.canvas?this.canvas=t.canvas:(this.canvas=document.createElement("canvas"),this.canvas.innerHTML="Unable to run the application."),t.append&&this.add(),e===h.MODE_2D)this.context=this.canvas.getContext("2d",r);else if(e===h.MODE_GL){if(!(e=c()))throw Error("Cannot get WebGL context. Try to use v6.constants.MODE_GL as the renderer mode or v6.Renderer2D instead of v6.RendererGL");this.context=this.canvas.getContext(e,r)}this.settings=t.settings,this.mode=e,this.index=d,this._stack=[],this._stackIndex=-1,this._vertices=[],a(this,this),"w"in t||"h"in t?this.resize(t.w,t.h):this.resizeTo(window),d+=1}b.prototype={add:function(t){return(t||document.body).appendChild(this.canvas),this},destroy:function(){return this.canvas.parentNode.removeChild(this.canvas),this},push:function(){return this._stack[++this._stackIndex]?f(this._stack[this._stackIndex],this):this._stack.push(a({},this)),this},pop:function(){return this._stackIndex>=0?f(this,this._stack[this._stackIndex--]):a(this,this),this},resize:function(t,e){var r=this.canvas;r.style.width=t+"px",r.style.height=e+"px";var n=this.settings.scale;return r.width=this.w=Math.floor(t*n),r.height=this.h=Math.floor(e*n),this},resizeTo:function(t){return this.resize(i(t),o(t))},rescale:function(){return this.resizeTo(this.canvas)},background:function(t,e,r,i){return n(t)?this.backgroundImage(t):this.backgroundColor(t,e,r,i)},_polygon:function(t,e,r,n,i,o,s){var a=l[i],f=this.matrix;return a||(a=l[i]=u(i)),s&&(o*=Math.PI/180),f.save(),f.translate(t,e),f.rotate(o),this.vertices(a,.5*a.length,null,r,n),f.restore(),this},polygon:function(t,e,r,n,i){return n%1&&(n=.01*Math.floor(100*n)),void 0!==i?this._polygon(t,e,r,r,n,i,p.degrees):this._polygon(t,e,r,r,n,.5*-Math.PI),this},noStroke:function(){return this._doStroke=!1,this},noFill:function(){return this._doFill=!1,this},setTransformFromCamera:function(t){var e=t.position,r=t.zoom;return this.matrix.setTransform(r,0,0,r,e[0]*r,e[1]*r),this},lineWidth:function(t){return this._lineW=t,this},constructor:b},s({stroke:"Stroke",fill:"Fill"},function(t,e){var r="_"+e+"Color",n="_do"+t,i="_"+e;b.prototype[e]=function(t,e,o,s){return void 0===t?this[i]():"boolean"!=typeof t?("string"==typeof t||this[r].type!==this.settings.color.prototype.type?this[r]=new this.settings.color(t,e,o,s):this[r].set(t,e,o,s),this[n]=!0):this[n]=t,this}},void 0,!0,["stroke","fill"]),["setTransform","transform","translate","restore","scale","save"].forEach(function(t){b.prototype[t]=Function("a, b, c, d, e, f","return this.matrix."+t+"( a, b, c, d, e, f ), this;")}),e.exports=b},{"./constants":72,"./internal/_copy-drawing-settings":73,"./internal/_create-polygon":74,"./internal/_get-gl-context-name":77,"./internal/_polygons":78,"./internal/_set-default-drawing-settings":79,"./options":84,"peako/base/base-for-in":8,"peako/get-element-h":28,"peako/get-element-w":29,"peako/is-object-like":36}],63:[function(t,e,r){"use strict";var n,i=t("peako/defaults"),o=t("./constants"),s=t("./Renderer"),a=t("./options"),f=t("./internal/align");function c(t){t=i(a,t),s.call(this,t,o.MODE_2D),this.smooth(this.settings.smooth),this.matrix=this.context,this._beginPath=!1}c.prototype=Object.create(s.prototype),c.prototype.smooth=(n=["webkitImageSmoothingEnabled","mozImageSmoothingEnabled","msImageSmoothingEnabled","oImageSmoothingEnabled","imageSmoothingEnabled"],function(t){var e;if("boolean"!=typeof t)throw TypeError("First argument in smooth( bool ) must be a boolean");for(e=n.length-1;e>=0;--e)n[e]in this.context&&(this.context[n[e]]=t);return this.settings.smooth=t,this}),c.prototype.backgroundColor=function(t,e,r,n){var i=this.context;return i.save(),i.setTransform(this.settings.scale,0,0,this.settings.scale,0,0),i.fillStyle=new this.settings.color(t,e,r,n),i.fillRect(0,0,this.w,this.h),i.restore(),this},c.prototype.backgroundImage=function(t){var e=this._rectAlignX,r=this._rectAlignY;return this._rectAlignX=o.CENTER,this._rectAlignY=o.MIDDLE,this.image(t,.5*this.w,.5*this.h),this._rectAlignX=e,this._rectAlignY=r,this},c.prototype.image=function(t,e,r,n,i){return t.get().loaded&&(void 0===n&&(n=t.dw),void 0===i&&(i=t.dh),e=Math.floor(f(e,n,this._rectAlignX)),r=Math.floor(f(r,i,this._rectAlignY)),this.context.drawImage(t.get().image,t.x,t.y,t.w,t.h,e,r,n,i)),this},c.prototype.clear=function(t,e,r,n){return void 0===t?(t=e=0,r=this.w,n=this.h):(t=Math.floor(f(t,r,this._rectAlignX)),e=Math.floor(f(e,n,this._rectAlignY))),this.context.clearRect(t,e,r,n),this},c.prototype.rect=function(t,e,r,n){return t=Math.floor(f(t,r,this._rectAlignX)),e=Math.floor(f(e,n,this._rectAlignY)),this._beginPath?this.context.rect(t,e,r,n):(this.context.beginPath(),this.context.rect(t,e,r,n),this._doFill&&this._fill(),this._doStroke&&this._stroke()),this},c.prototype.arc=function(t,e,r){return this._beginPath?this.context.arc(t,e,r,0,2*Math.PI,!1):(this.context.beginPath(),this.context.arc(t,e,r,0,2*Math.PI,!1),this._doFill&&this._fill(),this._doStroke&&this._stroke(!0)),this},c.prototype.vertices=function(t,e,r,n,i){var o,s=this.context;if(e<2)return this;for(null==n&&(n=i=1),s.beginPath(),s.moveTo(t[0]*n,t[1]*i),o=2,e*=2;o<e;o+=2)s.lineTo(t[o]*n,t[o+1]*i);return this._doFill&&this._fill(),this._doStroke&&this._lineW>0&&this._stroke(!0),this},c.prototype._fill=function(){this.context.fillStyle=this._fillColor,this.context.fill()},c.prototype._stroke=function(t){var e=this.context;t&&e.closePath(),e.strokeStyle=this._strokeColor,(e.lineWidth=this._lineW)<=1&&e.stroke(),e.stroke()},c.prototype.constructor=c,e.exports=c},{"./Renderer":62,"./constants":72,"./internal/align":80,"./options":84,"peako/defaults":25}],64:[function(t,e,r){"use strict";var n=t("peako/defaults"),i=t("./ShaderProgram"),o=t("./Transform"),s=t("./constants"),a=t("./Renderer"),f=t("./shaders"),c=t("./options"),u=t("./internal/align");function l(t){t=n(c,t),a.call(this,t,s.MODE_GL),this.matrix=new o,this.buffers={default:this.context.createBuffer(),rect:this.context.createBuffer()},this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffers.rect),this.context.bufferData(this.context.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),this.context.STATIC_DRAW),this.shaders={basic:new i(f.basicVert,f.basicFrag,this.context)},this.blending(t.blending)}l.prototype=Object.create(a.prototype),l.prototype.resize=function(t,e){return a.prototype.resize.call(this,t,e),this.context.viewport(0,0,this.w,this.h),this},l.prototype.blending=function(t){var e=this.context;return t?(e.enable(e.BLEND),e.disable(e.DEPTH_TEST),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.blendEquation(e.FUNC_ADD)):(e.disable(e.BLEND),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL)),this},l.prototype._clearColor=function(t,e,r,n){var i=this.context;i.clearColor(t,e,r,n),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},l.prototype.backgroundColor=function(t,e,r,n){var i=new this.settings.color(t,e,r,n).rgba();return this._clearColor(i[0]/255,i[1]/255,i[2]/255,i[3]),this},l.prototype.clear=function(){return this._clearColor(0,0,0,0),this},l.prototype.vertices=function(t,e,r,n,i){var o=this.shaders.basic,s=this.context;return e<2?this:(t&&(null==r&&(r=s.STATIC_DRAW),s.bindBuffer(s.ARRAY_BUFFER,this.buffers.default),s.bufferData(s.ARRAY_BUFFER,t,r)),null!=n&&this.matrix.scale(n,i),o.use().uniform("utransform",this.matrix.matrix).uniform("ures",[this.w,this.h]).pointer("apos",2,s.FLOAT,!1,0,0),this._doFill&&(o.uniform("ucolor",this._fillColor.rgba()),s.drawArrays(s.TRIANGLE_FAN,0,e)),this._doStroke&&this._lineW>0&&(o.uniform("ucolor",this._strokeColor.rgba()),s.lineWidth(this._lineW),s.drawArrays(s.LINE_LOOP,0,e)),this)},l.prototype.arc=function(t,e,r){return this._polygon(t,e,r,r,24,0)},l.prototype.rect=function(t,e,r,n){return t=u(t,r,this._rectAlignX),e=u(e,n,this._rectAlignY),this.matrix.save(),this.matrix.translate(t,e),this.matrix.scale(r,n),this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffers.rect),this.vertices(null,4),this.matrix.restore(),this},l.prototype.constructor=l,e.exports=l},{"./Renderer":62,"./ShaderProgram":65,"./Transform":67,"./constants":72,"./internal/align":80,"./options":84,"./shaders":88,"peako/defaults":25}],65:[function(t,e,r){"use strict";var n=t("./internal/_create-program"),i=t("./internal/_create-shader");function o(t,e,r){"string"==typeof t&&(t=i(t,r.VERTEX_SHADER,r)),"string"==typeof e&&(e=i(e,r.FRAGMENT_SHADER,r)),this._program=n(t,e,r),this._gl=r,this.attributes=function(t,e){for(var r,n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES)-1,i={};n>=0;--n)(r=t.getActiveAttrib(e,n)).location=t.getAttribLocation(e,r.name),i[r.name]=r;return i}(r,this._program),this.uniforms=function(t,e){for(var r,n,i,o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS)-1,s={};o>=0;--o)i=t.getActiveUniform(e,o),r={location:t.getUniformLocation(e,i.name),size:i.size,type:i.type},i.size>1&&~(n=i.name.indexOf("[0]"))?r.name=i.name.slice(0,n):r.name=i.name,s[r.name]=r;return s}(r,this._program)}o.prototype={use:function(){return this._gl.useProgram(this._program),this},pointer:function(t,e,r,n,i,o){var s=this.attributes[t].location,a=this._gl;return a.enableVertexAttribArray(s),a.vertexAttribPointer(s,e,r,n,i,o),this},constructor:o},o.prototype.uniform=function(t,e){var r=this.uniforms[t],n=this._gl;switch(r.type){case n.BOOL:case n.INT:r.size>1?n.uniform1iv(r.location,e):n.uniform1i(r.location,e);break;case n.FLOAT:r.size>1?n.uniform1fv(r.location,e):n.uniform1f(r.location,e);break;case n.FLOAT_MAT2:n.uniformMatrix2fv(r.location,!1,e);break;case n.FLOAT_MAT3:n.uniformMatrix3fv(r.location,!1,e);break;case n.FLOAT_MAT4:n.uniformMatrix4fv(r.location,!1,e);break;case n.FLOAT_VEC2:r.size>1?n.uniform2fv(r.location,e):n.uniform2f(r.location,e[0],e[1]);break;case n.FLOAT_VEC3:r.size>1?n.uniform3fv(r.location,e):n.uniform3f(r.location,e[0],e[1],e[2]);break;case n.FLOAT_VEC4:r.size>1?n.uniform4fv(r.location,e):n.uniform4f(r.location,e[0],e[1],e[2],e[3]);break;default:throw TypeError("The uniform type is not supported")}return this},e.exports=o},{"./internal/_create-program":75,"./internal/_create-shader":76}],66:[function(t,e,r){"use strict";var n=t("light_emitter"),i=t("extend"),o=t("peako/timestamp"),s=t("peako/timer"),a=i(n,{constructor:function(){var t=this;this.__super__.call(this),this.lastRequestAnimationFrameID=0,this.lastRequestTime=0,this.skippedTime=0,this.totalTime=0,this.running=!1,this.tick=function e(r){var n;if(!t.running)return r||(t.lastRequestAnimationFrameID=s.request(e),t.lastRequestTime=o(),t.running=!0),this;for(r||(r=o()),n=Math.min(1,.001*(r-t.lastRequestTime)),t.skippedTime+=n,t.totalTime+=n;t.skippedTime>=t.step&&t.running;)t.skippedTime-=t.step,t.emit("update",t.step,r);return t.emit("render",n,r),t.lastRequestTime=r,t.lastRequestAnimationFrameID=s.request(e),this},this.setFPS(60)},setFPS:function(t){return this.step=1/t,this},clear:function(){return this.skippedTime=0,this},stop:function(){return this.running=!1,this}});e.exports=a},{extend:83,light_emitter:1,"peako/timer":54,"peako/timestamp":55}],67:[function(t,e,r){"use strict";var n=t("./mat3");function i(){this.matrix=n.identity(),this._index=-1,this._stack=[]}i.prototype={save:function(){++this._index<this._stack.length?n.copy(this._stack[this._index],this.matrix):this._stack.push(n.clone(this.matrix))},restore:function(){this._index>=0?n.copy(this.matrix,this._stack[this._index--]):n.setIdentity(this.matrix)},setTransform:function(t,e,r,i,o,s){n.setTransform(this.matrix,t,e,r,i,o,s)},translate:function(t,e){n.translate(this.matrix,t,e)},rotate:function(t){n.rotate(this.matrix,t)},scale:function(t,e){n.scale(this.matrix,t,e)},transform:function(t,e,r,i,o,s){n.transform(this.matrix,t,e,r,i,o,s)},constructor:i},e.exports=i},{"./mat3":81}],68:[function(t,e,r){"use strict";e.exports=s;var n=t("peako/clamp"),i=t("./RGBA"),o=t("./internal/parse");function s(t,e,r,n){this.set(t,e,r,n)}function a(t,e,r){return t<1/6?Math.round(255*(e+6*(r-e)*t)):t<.5?Math.round(255*r):t<2/3?Math.round(255*(e+(r-e)*(2/3-t)*6)):Math.round(255*e)}s.prototype={perceivedBrightness:function(){return this.rgba().perceivedBrightness()},luminance:function(){return this.rgba().luminance()},brightness:function(){return this.rgba().brightness()},toString:function(){return"hsla("+this[0]+", "+this[1]+"%, "+this[2]+"%, "+this[3]+")"},set:function(t,e,r,n){switch(!0){case"string"==typeof t:t=o(t);case"object"==typeof t&&null!=t:t.type!==this.type&&(t=t[this.type]()),this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3];break;default:switch(void 0){case t:n=1,r=e=t=0;break;case e:n=1,r=Math.floor(t),e=t=0;break;case r:n=e,r=Math.floor(t),e=t=0;break;case n:n=1;default:t=Math.floor(t),e=Math.floor(e),r=Math.floor(r)}this[0]=t,this[1]=e,this[2]=r,this[3]=n}return this},rgba:function(){var t,e=new i,r=this[0]%360/360,n=.01*this[1],o=.01*this[2],s=r+1/3,f=r,c=r-1/3,u=2*o-(t=o<.5?o*(1+n):o+n-o*n);return s<0&&++s,f<0&&++f,c<0&&++c,s>1&&--s,f>1&&--f,c>1&&--c,e[0]=a(s,u,t),e[1]=a(f,u,t),e[2]=a(c,u,t),e[3]=this[3],e},lerp:function(t,e,r,n){var i=new s;return i[0]=t,i[1]=e,i[2]=r,this.lerpColor(i,n)},lerpColor:function(t,e){return this.rgba().lerpColor(t,e).hsla()},shade:function(t){var e=new s;return e[0]=this[0],e[1]=this[1],e[2]=n(this[2]+t,0,100),e[3]=this[3],e},constructor:s,type:"hsla"}},{"./RGBA":69,"./internal/parse":71,"peako/clamp":17}],69:[function(t,e,r){"use strict";e.exports=o;var n=t("./HSLA"),i=t("./internal/parse");function o(t,e,r,n){this.set(t,e,r,n)}o.prototype={perceivedBrightness:function(){var t=this[0],e=this[1],r=this[2];return Math.sqrt(.299*t*t+.587*e*e+.114*r*r)},luminance:function(){return.2126*this[0]+.7152*this[1]+.0722*this[2]},brightness:function(){return.299*this[0]+.587*this[1]+.114*this[2]},toString:function(){return"rgba("+this[0]+", "+this[1]+", "+this[2]+", "+this[3]+")"},set:function(t,e,r,n){switch(!0){case"string"==typeof t:t=i(t);case"object"==typeof t&&null!=t:t.type!==this.type&&(t=t[this.type]()),this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3];break;default:switch(void 0){case t:n=1,r=e=t=0;break;case e:n=1,r=e=t=Math.floor(t);break;case r:n=e,r=e=t=Math.floor(t);break;case n:n=1;default:t=Math.floor(t),e=Math.floor(e),r=Math.floor(r)}this[0]=t,this[1]=e,this[2]=r,this[3]=n}return this},hsla:function(){var t,e,r=new n,i=this[0]/255,o=this[1]/255,s=this[2]/255,a=Math.max(i,o,s),f=Math.min(i,o,s),c=50*(a+f),u=a-f;if(u){switch(e=c>50?u/(2-a-f):u/(a+f),a){case i:t=o<s?1.0472*(o-s)/u+6.2832:1.0472*(o-s)/u;break;case o:t=1.0472*(s-i)/u+2.0944;break;default:t=1.0472*(i-o)/u+4.1888}t=Math.round(360*t/6.2832),e=Math.round(100*e)}else t=e=0;return r[0]=t,r[1]=e,r[2]=Math.round(c),r[3]=this[3],r},rgba:function(){return this},lerp:function t(e,r,n,i){return new o(e=t(this[0],e,i),r=t(this[0],r,i),n=t(this[0],n,i),this[3])},lerpColor:function(t,e){var r,n,o;return"object"!=typeof t&&(t=i(t)),"rgba"!==t.type&&(t=t.rgba()),r=t[0],n=t[1],o=t[2],this.lerp(r,n,o,e)},shade:function(t){return this.hsla().shade(t).rgba()},constructor:o,type:"rgba"}},{"./HSLA":68,"./internal/parse":71}],70:[function(t,e,r){"use strict";e.exports={aliceblue:"f0f8ffff",antiquewhite:"faebd7ff",aqua:"00ffffff",aquamarine:"7fffd4ff",azure:"f0ffffff",beige:"f5f5dcff",bisque:"ffe4c4ff",black:"000000ff",blanchedalmond:"ffebcdff",blue:"0000ffff",blueviolet:"8a2be2ff",brown:"a52a2aff",burlywood:"deb887ff",cadetblue:"5f9ea0ff",chartreuse:"7fff00ff",chocolate:"d2691eff",coral:"ff7f50ff",cornflowerblue:"6495edff",cornsilk:"fff8dcff",crimson:"dc143cff",cyan:"00ffffff",darkblue:"00008bff",darkcyan:"008b8bff",darkgoldenrod:"b8860bff",darkgray:"a9a9a9ff",darkgreen:"006400ff",darkkhaki:"bdb76bff",darkmagenta:"8b008bff",darkolivegreen:"556b2fff",darkorange:"ff8c00ff",darkorchid:"9932ccff",darkred:"8b0000ff",darksalmon:"e9967aff",darkseagreen:"8fbc8fff",darkslateblue:"483d8bff",darkslategray:"2f4f4fff",darkturquoise:"00ced1ff",darkviolet:"9400d3ff",deeppink:"ff1493ff",deepskyblue:"00bfffff",dimgray:"696969ff",dodgerblue:"1e90ffff",feldspar:"d19275ff",firebrick:"b22222ff",floralwhite:"fffaf0ff",forestgreen:"228b22ff",fuchsia:"ff00ffff",gainsboro:"dcdcdcff",ghostwhite:"f8f8ffff",gold:"ffd700ff",goldenrod:"daa520ff",gray:"808080ff",green:"008000ff",greenyellow:"adff2fff",honeydew:"f0fff0ff",hotpink:"ff69b4ff",indianred:"cd5c5cff",indigo:"4b0082ff",ivory:"fffff0ff",khaki:"f0e68cff",lavender:"e6e6faff",lavenderblush:"fff0f5ff",lawngreen:"7cfc00ff",lemonchiffon:"fffacdff",lightblue:"add8e6ff",lightcoral:"f08080ff",lightcyan:"e0ffffff",lightgoldenrodyellow:"fafad2ff",lightgrey:"d3d3d3ff",lightgreen:"90ee90ff",lightpink:"ffb6c1ff",lightsalmon:"ffa07aff",lightseagreen:"20b2aaff",lightskyblue:"87cefaff",lightslateblue:"8470ffff",lightslategray:"778899ff",lightsteelblue:"b0c4deff",lightyellow:"ffffe0ff",lime:"00ff00ff",limegreen:"32cd32ff",linen:"faf0e6ff",magenta:"ff00ffff",maroon:"800000ff",mediumaquamarine:"66cdaaff",mediumblue:"0000cdff",mediumorchid:"ba55d3ff",mediumpurple:"9370d8ff",mediumseagreen:"3cb371ff",mediumslateblue:"7b68eeff",mediumspringgreen:"00fa9aff",mediumturquoise:"48d1ccff",mediumvioletred:"c71585ff",midnightblue:"191970ff",mintcream:"f5fffaff",mistyrose:"ffe4e1ff",moccasin:"ffe4b5ff",navajowhite:"ffdeadff",navy:"000080ff",oldlace:"fdf5e6ff",olive:"808000ff",olivedrab:"6b8e23ff",orange:"ffa500ff",orangered:"ff4500ff",orchid:"da70d6ff",palegoldenrod:"eee8aaff",palegreen:"98fb98ff",paleturquoise:"afeeeeff",palevioletred:"d87093ff",papayawhip:"ffefd5ff",peachpuff:"ffdab9ff",peru:"cd853fff",pink:"ffc0cbff",plum:"dda0ddff",powderblue:"b0e0e6ff",purple:"800080ff",red:"ff0000ff",rosybrown:"bc8f8fff",royalblue:"4169e1ff",saddlebrown:"8b4513ff",salmon:"fa8072ff",sandybrown:"f4a460ff",seagreen:"2e8b57ff",seashell:"fff5eeff",sienna:"a0522dff",silver:"c0c0c0ff",skyblue:"87ceebff",slateblue:"6a5acdff",slategray:"708090ff",snow:"fffafaff",springgreen:"00ff7fff",steelblue:"4682b4ff",tan:"d2b48cff",teal:"008080ff",thistle:"d8bfd8ff",tomato:"ff6347ff",turquoise:"40e0d0ff",violet:"ee82eeff",violetred:"d02090ff",wheat:"f5deb3ff",white:"ffffffff",whitesmoke:"f5f5f5ff",yellow:"ffff00ff",yellowgreen:"9acd32ff",transparent:"00000000"}},{}],71:[function(t,e,r){"use strict";e.exports=function(t){var e=s[t]||s[t=t.trim().toLowerCase()];if(!e){if(e=o[t])e=new h(u(e),n);else if(e=f.hex.exec(t))e=new h(u(c(e)),n);else if(e=f.rgb.exec(t))e=new h(l(e),n);else if(e=f.hsl.exec(t))e=new h(l(e),i);else{if(!(e=f.hex3.exec(t)))throw SyntaxError(t+" is not a valid syntax");e=new h(u(c(e,!0)),n)}s[t]=e}return new e.color(e[0],e[1],e[2],e[3])};var n=t("../RGBA"),i=t("../HSLA"),o=t("./colors"),s=Object.create(null),a=[0,0,0,0],f={hex3:/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/,hex:/^#([0-9a-f]{6})([0-9a-f]{2})?$/,rgb:/^rgb\s*\(\s*(\d+|\d*\.\d+)\s*,\s*(\d+|\d*\.\d+)\s*,\s*(\d+|\d*\.\d+)\s*\)$|^\s*rgba\s*\(\s*(\d+|\d*\.\d+)\s*,\s*(\d+|\d*\.\d+)\s*,\s*(\d+|\d*\.\d+)\s*,\s*(\d+|\d*\.\d+)\s*\)$/,hsl:/^hsl\s*\(\s*(\d+|\d*\.\d+)\s*,\s*(\d+|\d*\.\d+)\u0025\s*,\s*(\d+|\d*\.\d+)\u0025\s*\)$|^\s*hsla\s*\(\s*(\d+|\d*\.\d+)\s*,\s*(\d+|\d*\.\d+)\u0025\s*,\s*(\d+|\d*\.\d+)\u0025\s*,\s*(\d+|\d*\.\d+)\s*\)$/};function c(t,e){var r,n,i,o;return e?(r=t[1])+r+(n=t[2])+n+(i=t[3])+i+(o=t[4]||"f")+o:t[1]+(t[2]||"ff")}function u(t){return 0==t?a:[(t=parseInt(t,16))>>24&255,t>>16&255,t>>8&255,(255&t)/255]}function l(t){return t[7]?[+t[4],+t[5],+t[6],+t[7]]:[+t[1],+t[2],+t[3]]}function h(t,e){this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.color=e}},{"../HSLA":68,"../RGBA":69,"./colors":70}],72:[function(t,e,r){"use strict";e.exports={MODE_AUTO:1,MODE_GL:2,MODE_2D:3,SELF_CONTEXT:6,BOTTOM:7,RIGHT:8,LEFT:9,TOP:10,CENTER:11,MIDDLE:12}},{}],73:[function(t,e,r){"use strict";e.exports=function(t,e,r){return r&&(t._fillColor[0]=e._fillColor[0],t._fillColor[1]=e._fillColor[1],t._fillColor[2]=e._fillColor[2],t._fillColor[3]=e._fillColor[3],t._font.style=e._font.style,t._font.variant=e._font.variant,t._font.weight=e._font.weight,t._font.size=e._font.size,t._font.family=e._font.family,t._strokeColor[0]=e._strokeColor[0],t._strokeColor[1]=e._strokeColor[1],t._strokeColor[2]=e._strokeColor[2],t._strokeColor[3]=e._strokeColor[3]),t._rectAlignX=e._rectAlignX,t._rectAlignY=e._rectAlignY,t._textAlignX=e._textAlignX,t._textAlignY=e._textAlignY,t._doStroke=e._doStroke,t._doFill=e._doFill,t._lineH=e._lineH,t._lineW=e._lineW,t}},{}],74:[function(t,e,r){"use strict";e.exports=function(t){for(var e=Math.floor(t),r=new Float32Array(2*e+2),n=2*Math.PI/t;e>=0;--e)r[2*e]=Math.cos(n*e),r[1+2*e]=Math.sin(n*e);return r}},{}],75:[function(t,e,r){"use strict";e.exports=function(t,e,r){var n=r.createProgram();if(r.attachShader(n,t),r.attachShader(n,e),r.linkProgram(n),!r.getProgramParameter(n,r.LINK_STATUS))throw Error("Unable to initialize the shader program: "+r.getProgramInfoLog(n));if(r.validateProgram(n),!r.getProgramParameter(n,r.VALIDATE_STATUS))throw Error("Unable to validate the shader program: "+r.getProgramInfoLog(n));return n}},{}],76:[function(t,e,r){"use strict";e.exports=function(t,e,r){var n=r.createShader(e);if(r.shaderSource(n,t),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS))throw SyntaxError("An error occurred compiling the shaders: "+r.getShaderInfoLog(n));return n}},{}],77:[function(t,e,r){"use strict";var n=t("peako/once");e.exports=n(function(){var t,e,r=document.createElement("canvas");if("function"==typeof r.getContext)for(e=(t=["webkit-3d","moz-webgl","experimental-webgl","webgl"]).length-1;e>=0;--e)if(r.getContext(t[e]))return t[e]})},{"peako/once":49}],78:[function(t,e,r){"use strict"},{}],79:[function(t,e,r){"use strict";var n=t("./_copy-drawing-settings"),i=t("../constants"),o={_rectAlignX:i.LEFT,_rectAlignY:i.TOP,_textAlignX:i.LEFT,_textAlineY:i.TOP,_doStroke:!0,_doFill:!0,_lineH:14,_lineW:2};e.exports=function(t,e){return n(t,o),t._strokeColor=new e.settings.color,t._fillColor=new e.settings.color,t._font=null,t}},{"../constants":72,"./_copy-drawing-settings":73}],80:[function(t,e,r){"use strict";var n=t("../constants");e.exports=function(t,e,r){switch(r){case n.LEFT:case n.TOP:return t;case n.CENTER:case n.MIDDLE:return t-.5*e;case n.RIGHT:case n.BOTTOM:return t-e}return 0}},{"../constants":72}],81:[function(t,e,r){"use strict";r.identity=function(){return[1,0,0,0,1,0,0,0,1]},r.setIdentity=function(t){t[0]=t[4]=t[8]=1,t[1]=t[2]=t[3]=t[5]=t[6]=t[7]=0},r.copy=function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8]},r.clone=function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},r.translate=function(t,e,r){t[6]=e*t[0]+r*t[3]+t[6],t[7]=e*t[1]+r*t[4]+t[7],t[8]=e*t[2]+r*t[5]+t[8]},r.rotate=function(t,e){var r=t[0],n=t[1],i=t[2],o=t[3],s=t[4],a=t[5],f=Math.cos(e),c=Math.sin(e);t[0]=f*r+c*o,t[1]=f*n+c*s,t[2]=f*i+c*a,t[3]=f*o-c*r,t[4]=f*s-c*n,t[5]=f*a-c*i},r.scale=function(t,e,r){t[0]*=e,t[1]*=e,t[2]*=e,t[3]*=r,t[4]*=r,t[5]*=r},r.transform=function(t,e,r,n,i,o,s){t[0]*=e,t[1]*=n,t[2]*=o,t[3]*=r,t[4]*=i,t[5]*=s,t[6]=0,t[7]=0},r.setTransform=function(t,e,r,n,i,o,s){t[0]=e,t[1]=r,t[3]=n,t[4]=i,t[6]=o,t[7]=s}},{}],82:[function(t,e,r){"use strict";var n=t("../settings");function i(t,e){this.set(t,e)}i.prototype={set:function(t,e){return this.x=t||0,this.y=e||0,this},setVector:function(t){return this.set(t.x,t.y)},lerp:function(t,e,r){return this.x+=(t-this.x)*r||0,this.y+=(e-this.y)*r||0,this},lerpVector:function(t,e){var r=t.x||0,n=t.y||0;return this.lerp(r,n,e)},add:function(t,e){return this.x+=t||0,this.y+=e||0,this},addVector:function(t){return this.add(t.x,t.y)},sub:function(t,e){return this.x-=t||0,this.y-=e||0,this},subVector:function(t){return this.sub(t.x,t.y)},mul:function(t){return this.x*=t||0,this.y*=t||0,this},mulVector:function(t){return this.x*=t.x||0,this.y*=t.y||0,this},div:function(t){return this.x/=t||0,this.y/=t||0,this},divVector:function(t){return this.x/=t.x||0,this.y/=t.y||0,this},angle:function(){return n.degrees?180*Math.atan2(this.y,this.x)/Math.PI:Math.atan2(this.y,this.x)},mag:function(){return Math.sqrt(this.magSquare())},magSquare:function(){return this.x*this.x+this.y*this.y},setMag:function(t){return this.normalize().mul(t)},normalize:function(){var t=this.mag();return t&&1!==t&&this.div(t),this},dot:function(t,e){return this.x*(t||0)+this.y*(e||0)},dotVector:function(t){return this.x*(t.x||0)+this.y*(t.y||0)},clone:function(){return new i(this.x,this.y)},dist:function t(e){return t(this.x,this.y,e.x,e.y)},limit:function(t){var e=this.magSquare();return e>t*t&&this.div(Math.sqrt(e)).mul(t),this},cross:function(t){return i.cross(this,t)},toString:function(){return"vec2("+this.x.toFixed(2)+", "+this.y.toFixed(2)+")"},rotate:function(t){var e,r,i=this.x,o=this.y;return n.degrees&&(t*=Math.PI/180),e=Math.cos(t),r=Math.sin(t),this.x=i*e-o*r,this.y=i*r+o*e,this},setAngle:function(t){var e=this.mag();return n.degrees&&(t*=Math.PI/180),this.x=e*Math.cos(t),this.y=e*Math.sin(t),this},constructor:i},["normalize","setMag","rotate","limit","lerp","mul","div","add","sub","set"].forEach(function(t){i[t]=Function("vector, x, y, z, value","return vector.copy()."+t+"( x, y, z, value );")}),i.random=function(){var t;return t=n.degrees?360:2*Math.PI,i.fromAngle(Math.random()*t)},i.fromAngle=function(t){return n.degrees&&(t*=Math.PI/180),new i(Math.cos(t),Math.sin(t))},i.cross=function(t,e){return t.x*e.y-t.y*e.x},i.clone=function(t){return new i(t.x,t.y)},e.exports=i},{"../settings":87}],83:[function(t,e,r){"use strict";var n=t("utils/lib/ArgumentException"),i=t("utils/lib/LogicalError"),o=Object.prototype.hasOwnProperty;e.exports=function(t,e){var r,s,a;if("function"!=typeof t)throw n("extend(__super__: function, __proto__: object): function","__super__",t);if(("object"!=typeof e||null===e)&&"function"!=typeof e)throw n("extend(__super__: function, __proto__: object): function","__proto__",e);if(!o.call(e,"constructor"))throw i("extend(__super__: function, __proto__: object): function","cannot find `constructor` function in `__proto__`");if("function"!=typeof e.constructor)throw i("extend(__super__: function, __proto__: object): function","`__proto__.constructor` is not a function");if("object"!=typeof t.prototype)throw i("extend(__super__: function, __proto__: object): function","`__super__.prototype` must be an object or null");for(e.constructor.prototype=Object.create(t.prototype),e.constructor.prototype.__super__=t,s=0,a=(r=Object.keys(e)).length;s<a;++s)e.constructor.prototype[r[s]]=e[r[s]];return e.constructor}},{"utils/lib/ArgumentException":60,"utils/lib/LogicalError":61}],84:[function(t,e,r){"use strict";e.exports={settings:{color:t("./colors/RGBA"),smooth:!1,scale:1},antialias:!0,blending:!0,degrees:!1,append:!0,alpha:!0,mode:t("./constants").MODE_2D}},{"./colors/RGBA":69,"./constants":72}],85:[function(t,e,r){"use strict";var n;if(void 0===n)try{n=t("platform")}catch(t){}var i=t("peako/once"),o=t("./internal/_get-gl-context-name"),s=t("./options"),a=t("./RendererGL"),f=t("./Renderer2D"),c=t("./constants"),u=t("./report"),l=i(function(){var t,e;return"undefined"!=typeof window&&(t="ontouchstart"in window&&"ontouchmove"in window&&"ontouchend"in window),n&&(e=n.os&&"iOS"===n.os.family&&"Safari"===n.name),t&&!e?c.MODE_GL:c.MODE_2D});e.exports=function(t){var e=t&&t.mode||s.mode;if(e===c.MODE_AUTO&&(e=l()),e===c.MODE_GL){if(o())return new a(t);u("Cannot create WebGL context, fallback to 2D.")}if(e===c.MODE_2D||e===c.MODE_GL)return new f(t)}},{"./Renderer2D":63,"./RendererGL":64,"./constants":72,"./internal/_get-gl-context-name":77,"./options":84,"./report":86,"peako/once":49,platform:59}],86:[function(t,e,r){"use strict";var n,i;"undefined"!=typeof console&&console.warn?(i={},n=function(t){i[t]||(console.warn(t),i[t]=!0)}):n=t("peako/noop"),e.exports=n},{"peako/noop":47}],87:[function(t,e,r){"use strict";e.exports={degress:!1}},{}],88:[function(t,e,r){"use strict";e.exports={basicVert:"precision mediump float;attribute vec2 apos;uniform vec2 ures;uniform mat3 utransform;void main(){gl_Position=vec4(((utransform*vec3(apos,1.0)).xy/ures*2.0-1.0)*vec2(1,-1),0,1);}",basicFrag:"precision mediump float;uniform vec4 ucolor;void main(){gl_FragColor=vec4(ucolor.rgb/255.0,ucolor.a);}",backgroundVert:"precision mediump float;attribute vec2 apos;void main(){gl_Position = vec4(apos,0,1);}",backgroundFrag:"precision mediump float;uniform vec4 ucolor;void main(){gl_FragColor=ucolor;}"}},{}],89:[function(t,e,r){"use strict";var n=t("v6.js/math/Vector2D");function i(){this.pos=new n,this.r=20}i.prototype={render:function(t){t.polygon(this.pos.x,this.pos.y,this.r,3)},constructor:i},e.exports=i},{"v6.js/math/Vector2D":82}],90:[function(t,e,r){(function(e){"use strict";var r=t("v6.js/renderer"),n=t("v6.js/Ticker"),i=t("v6.js/constants"),o=new(t("./Bird")),s=e.renderer=r({mode:i.MODE_AUTO}).fill(255);(new n).on("render",function(){s.backgroundColor(0),o.render(s)}).on("update",function(){o.pos.add(1,1)}).tick()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Bird":89,"v6.js/Ticker":66,"v6.js/constants":72,"v6.js/renderer":85}]},{},[90]);